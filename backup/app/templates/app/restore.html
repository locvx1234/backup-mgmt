{% extends "app/base_site.html" %}

{% block title %} Restore {% endblock title %}
{% load static %}
{% block stylesheets %}
  {{ block.super }}
{% endblock stylesheets %}

{% block content %}
<div class="right_col" role="main">
  <div class="">
    <div class="col-md-12 col-sm-12 col-xs-12">
      <div class="x_panel">
        <div class="x_title">
          <h2> TYPE OF RESOTRE </h2>
          <div class="clearfix"></div>
        </div>
        <div class="x_content">

          <div class="" role="tabpanel" data-example-id="togglable-tabs">
            <ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">
              <li role="presentation" class="active"><a href="#tab_content1" role="tab" id="file-tab" data-toggle="tab" aria-expanded="true"><i class="fa fa-file"></i> File Restore</a>
              </li>
              <li role="presentation" class=""><a href="#tab_content2" role="tab" id="container-tab" data-toggle="tab" aria-expanded="false"><i class="fa fa-cubes"></i>Container Restore</a>
              </li>
              <li role="presentation" class=""><a href="#tab_content3" role="tab" id="cloud-tab" data-toggle="tab" aria-expanded="false"><i class="fa fa-cloud"></i> Cloud Restore</a>
              </li>
            </ul>
            <div id="myTabContent" class="tab-content">
              <div role="tabpanel" class="tab-pane fade active in" id="tab_content1" aria-labelledby="file-tab">
                <p>Raw denim you probably haven't heard of them jean shorts Austin. Nesciunt tofu stumptown aliqua, retro synth master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica. Reprehenderit butcher retro keffiyeh dreamcatcher
                  synth. Cosby sweater eu banh mi, qui irure terr.</p>
                  <form class="form-horizontal form-label-center form-group" method="post">
                    <div class="form-group">
                      <label class="control-label col-md-3 col-sm-3 col-xs-12" for="dates">Date
                      </label>

                      <div class="col-md-3 col-sm-3 col-xs-6">
                        <select id="bid_select" name="bid_select" class="form-control" required>
                          {% for item in backup_select %}
                          <option value="{{ item.bid }}">{{ item.date }}</option>
                          {% endfor %}
                        </select>
                      </div>
                    </div>

                    <div class="form-group">
                      <label class="control-label col-md-3 col-sm-3 col-xs-12" for="targets">Path
                      </label>

                      <div class="col-md-3 col-sm-3 col-xs-6">
                        <select id="target_select" name="target_select" class="form-control" required>
                          {% for item in path_select %}
                          <option>{{ item }}</option>
                          {% endfor %}
                        </select>
                      </div>
                    </div>

                    <br>
                    <div class="form-group">
                      <div class="col-md-6 col-sm-6 col-xs-12 col-md-offset-3">
                        <button type="submit" class="btn btn-success">Submit</button>
                      </div>
                    </div>
                  </form>
              </div>
              <div role="tabpanel" class="tab-pane fade" id="tab_content2" aria-labelledby="container-tab">
                <p>Coming Soon</p>
              </div>
              <div role="tabpanel" class="tab-pane fade" id="tab_content3" aria-labelledby="cloud-tab">
                <p>Coming Soon</p>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <div class="">
    <div class="col-md-12 col-sm-12 col-xs-12">
      <div class="x_panel">
        <div class="x_title">
          <h2> RESTORE STATUS </h2>
          <div class="clearfix"></div>
        </div>
        <div class="x_content">
          <table id="restore_status" class="table table-striped table-bordered order-column" cellspacing="0" width="100%">
            <thead>
              <tr>
                  <th>Time</th>
                  <th>Path</th>
                  <th>Status</th>
                  <th>Action</th>
              </tr>
            </thead>
            <tbody>
            {% for restoration in restorations %}
              <tr>
                  <td>{{ restoration.time }}</td>
                  <td>{{ restoration.path }}</td>
                  <td>{{ restoration.get_status_display }}</td>
                  <td>
                    {% if restoration.status == 1 or restoration.status == 2 %}
                    <a href="{% url 'restore-cancel' computer.id restoration.id %}" class="btn btn-warning btn-xs"><i class="fa fa-remove"></i> Cancel </a>
                    {% endif %}
                  </td>
              </tr>
            {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock content %}

{% block javascripts %}
  {{ block.super}}
  <script src="{% static '/vendors/datatables.net/js/jquery.dataTables.min.js' %}"></script>
  <script src="{% static '/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js' %}"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $('#restore_status').DataTable({
        "order": [[ 0, "desc" ]]
      });
    });
  </script>
  <script type="text/javascript"> 
    var core_domain = "{{ core_domain }}";
    var token = "{{ token }}"
  </script>
  <script src="{% static '/build/js/restore.js' %}"></script>
{% endblock javascripts %}
